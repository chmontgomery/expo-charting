<div class="patient-search-wrap">
  <div class="patient-search">
    Patient Search:
    <input type="text" ng-enter="getPatients()" ng-model="searchText"/>

    <div class="btn btn-primary" ng-click="getPatients()">
      <span class="glyphicon glyphicon-search"></span>
    </div>
  </div>

  <table class="table table-striped patient-search-table" ng-if="searchCalled">
    <tr>
      <th>First</th>
      <th>Last</th>
      <th>View</th>
    </tr>
    <tr ng-if="searchCallInProgress">
      <td colspan="3">Loading...</td>
    </tr>
    <tr ng-if="searchCalled && !searchCallInProgress && patients.length === 0">
      <td colspan="3">No patients found matching your search</td>
    </tr>
    <tr ng-if="!searchCallInProgress" ng-repeat="p in patients" >
      <td>{{p.firstName}}</td>
      <td>{{p.lastName}}</td>
      <td>
        <a href="/demographics/{{p.id}}" title="Demographics">
          <span class="glyphicon glyphicon-user"></span>
        </a>
        <a href="/mar/{{p.id}}" title="Mar">
          <span class="glyphicon glyphicon-calendar"></span>
        </a>
      </td>
    </tr>
  </table>
</div>
